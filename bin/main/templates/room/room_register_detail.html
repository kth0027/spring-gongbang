<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>클래스 개설</title>
    <link rel="stylesheet" th:href="@{/css/register.css}">
    <link rel="stylesheet" th:href="@{/css/summernote/summernote-lite.css}">

</head>
<body>
<div th:replace="common.html::common"></div>
<div th:replace="header.html::header"></div>
<script th:src="@{/js/summernote/summernote-lite.js}"></script>
<script th:src="@{/js/summernote/lang/summernote-ko-KR.js}"></script>

<!-- 다음우편api js -->
<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>

<div class="container" style="margin-top: 2rem;">

    <div class="row">
        <div class="col-md-4">
            <span style="color: pink;">클래스 정보</span>
        </div>
        <div class="col-md-4">클래스 소개</div>
        <div class="col-md-4">클래스 위치</div>
    </div>

    <div class="row">
        <span style="background-color: #fff1ed;">작성 유의 사항</span>
        <div>
            <ul class="list-group">
                <li class="list-group-item">최종 등록하지 않은 내용은 전부 사라집니다.</li>
                <li class="list-group-item">등록 후 자유롭게 수정이 가능합니다.</li>
                <li class="list-group-item"><span>(*)</span>필수 작성 사항을 기입하지 않으면 등록할 수 없습니다.</li>
            </ul>
        </div>
    </div>

    <div>
        <!--
        1. @Author : 김정진
        2. @Date : 2022-01-27
        3. @Note :
            1. form 태그 이용한 클래스 정보 등록
            2. tab-1, tab-2, tab-3 에 각각 탭 이동 이벤트가 걸려있다.
            3. room 엔티티는 member, roomimg 와 1:N 맵핑 되어있다.
            4. 현재 드래그 앤 드롭이 합치는 과정에서 망가져서 드래그 앤 드롭이 적용되지 않는다.
            5.

        -->
        <form action="/room/classRegister" id="form" method="post" enctype="multipart/form-data">
            <!--첫번째 탭-->
            <!--
                1. 강사 기본 정보를 맨 처음 출력한다.
                2.
            -->
            <div id="tab-1" class="tab-content current">
                <div>
                    <div> 강사님 기본 정보</div>
                    <div class="my-2">
                        <div th:text="${member.memberName}" style="background-color:#ffffff"></div>
                    </div>
                    <div> 강사님 연락처</div>
                    <div class="my-2">
                        <div th:text="${member.memberPhone}" style="background-color:#ffffff"></div>
                    </div>
                </div>

                <div class="mb-3">
                    <!--
                    1. 클래스 이름 입력
                    2. 50자 안으로 입력할 수 있도록 유효성 검사 적용 해야한다.
                    -->
                    <label for="roomTitle" class="form-label">클래스 이름<span style="color:red;">[필수]</span>
                        <span>글자수(1/50)</span></label>
                    <input type="text" class="form-control" id="roomTitle" aria-describedby="addClassName"
                           name="roomTitle">
                    <!--
                        1. 작성 tip 을 아래에 출력한다.
                        2. 현재 내용은 mocha class 에 있는 내용과 거의 동일하다.
                    -->
                    <div class="" style="font-size:0.6rem;">
                        <small>작성 TIP</small>
                        <div class="list-group">
                            <div class="list-group-item list-group-item-action list-group-item-secondary">
                                어떤 수업인지 한 눈에 알 수 있는 클래스 이름을 등록해주세요
                            </div>
                            <div class="list-group-item list-group-item-action list-group-item-secondary">
                                스튜디오 또는 공방 및 강습소의 이름이 포함 되어도 좋습니다
                            </div>
                            <div class="list-group-item list-group-item-action list-group-item-secondary">
                                지역 또는 클래스 성격 (원데이 클래스 / 정규 클래스) 등을 뒤에 적어 주셔도 좋습니다
                            </div>
                            <div class="list-group-item list-group-item-action list-group-item-secondary">
                                등록 이후 언제나 자유롭게 수정이 가능하므로 부담없이 작성해 주세요
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mb-3">
                    <!--
                    1. 클래스에 대한 간략한 소개를 작성한다.
                    2. 글자수는 150자 내외로 입력하도록 유효성 검사를 걸어야한다.
                        1. change 를 사용해서 input 태그에 입력된 문자열의 길이를 받아서 150자가 넘으면 에러 메시지를 출력한다.
                    -->
                    <label for="addClassInfo" class="form-label">클래스 간단소개 <span style="color:red;">[필수]</span> <span>글자수(1/150)</span></label><br>
                    <textarea name="roomContent" id="addClassInfo" cols="30" rows="5" style="width:100%;"></textarea>
                    <div class="" style="font-size:0.6rem;">
                        <small>작성 TIP</small>
                        <div class="list-group list-group-flush">
                            <div class="list-group-item list-group-item-action list-group-item-secondary">클래스 요약 설명 작성란
                                입니다
                            </div>
                            <div class="list-group-item list-group-item-action list-group-item-secondary">제목을 보완해 줄 수 있는
                                설명을
                                적어주세요
                            </div>
                            <div class="list-group-item list-group-item-action list-group-item-secondary">다음 스텝에서 자세한
                                클래스
                                소개란이 있으므로 간단히 작성해 주셔도 좋습니다
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mb-3">
                    <!--
                    1. 클래스 카테고리는 미리 정해져있고, 관리자만이 추가 및 삭제, 수정이 가능하다.
                    -->
                    <label for="classCategory" class="form-label">클래스 카테고리<span style="color:red;">[필수]</span></label>
                    <div id="classCategory" class="container">
                        <input type="radio" name="roomCategory" class="form-check-input mt-0" value="핸드메이드">핸드메이드
                        <input type="radio" name="roomCategory" class="form-check-input mt-0" value="쿠킹">쿠킹
                        <input type="radio" name="roomCategory" class="form-check-input mt-0" value="플라워">플라워
                        <input type="radio" name="roomCategory" class="form-check-input mt-0" value="드로잉">드로잉
                        <input type="radio" name="roomCategory" class="form-check-input mt-0" value="음악">음악
                        <input type="radio" name="roomCategory" class="form-check-input mt-0" value="요가/필라테스">필라테스
                        <input type="radio" name="roomCategory" class="form-check-input mt-0" value="스포츠">스포츠
                        <input type="radio" name="roomCategory" class="form-check-input mt-0" value="뷰티">뷰티
                        <input type="radio" name="roomCategory" class="form-check-input mt-0" value="애완동물">애완동물
                        <input type="radio" name="roomCategory" class="form-check-input mt-0" value="체험">체험
                        <input type="radio" name="roomCategory" class="form-check-input mt-0" value="자기계발">자기계발
                    </div>
                </div>

                <!--
                1. 이미지를 여러 장 드래그 앤 드롭, 혹은 클릭해서 업로드하는 부분이다.
                2. 현재 누가 뭘 만졌는지 고장나서 클릭 후 업로드밖에 먹히지 않는다.
                -->
                <div class="image-drag-wrapper1" style="width: 100%;">
                    <label class="label" id="rlabel" for="rinput">
                        <div class="inner" id="inner">드래그하거나 클릭해서 업로드</div>
                    </label>
                    <input id="rinput" name="roomImageInput" class="input" accept="image/*" type="file" required="true"
                           multiple="true" hidden="true">
                    <div class="preview" id="preview"></div>
                </div>

            </div>

            <!--두번 째 탭-->
            <div id="tab-2" class="tab-content">
                <div> 클래스 상세내용 <span>(필수)</span></div>

                <div class="mb-3">
                    <label for=""> 클래스 소개</label>
                    <!-- SummerNote 첨부하기 -->
                    <div>
                        <textarea id="summernote" name="roomDetail"></textarea>
                    </div>
                </div>

                <div> 태그 입력</div>
                <div><input type="text" class="form-control">
                    <button type="button" class="btn btn-secondary">태그등록</button>
                </div>

            </div>

            <!--세번 째 탭-->
            <div id="tab-3" class="tab-content">

                <div>
                    <div> 지역 선택</div>
                    <div id="classLocalCategory" class="">
                        <input type="radio" name="roomLocal" class="form-check-input mt-0" value="서울">서울
                        <input type="radio" name="roomLocal" class="form-check-input mt-0" value="경기">경기
                        <input type="radio" name="roomLocal" class="form-check-input mt-0" value="인천">인천
                    </div>
                </div>

                <div>
                    <div>클래스 주소 입력</div>
                    <div class="row d-flex justify-content-center">
                        <div class="col-4">
                            <input type="text" name="roomAddress" id="sample5_address" class="form-control"
                                   placeholder="주소">
                        </div>
                        <div class="col-3">
                            <button type="button" class="btn btn-secondary btn-sm" onclick="sample5_execDaumPostcode()">
                                주소검색
                            </button>
                        </div>
                    </div>
                    <div class="d-flex justify-content-center">
                        <div id="map" style="width:600px;height:600px;margin-top:10px;display:none"></div>
                    </div>
                    <!-- 입력한 좌표의 위도, 경도를 input-hidden 으로 넘겨줍니다. -->
                    <input type="hidden" name="addressX" id="addressX">
                    <input type="hidden" name="addressY" id="addressY">
                </div>

                <div>
                    <select class="form-control" name="roomMax" id="">
                        <option selected>선택</option>
                        <option value="1">1명</option>
                        <option value="2">2명</option>
                        <option value="3">3명</option>
                        <option value="4">4명</option>
                        <option value="5">5명</option>
                        <option value="6">6명</option>
                    </select>
                </div>

                <div>
                    <div>편의사항 및 제공사항</div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" name="infoCheck"
                               id="formCheck1">
                        <label class="form-check-label" for="formCheck1">
                            반려동물 가능합니다
                        </label>
                        <input type="hidden" value="" id="checkBox1" name="checkBox1">
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" name="infoCheck"
                               id="formCheck2">
                        <label class="form-check-label" for="formCheck2">
                            와이파이를 제공합니다
                        </label>
                        <input type="hidden" value="" id="checkBox2" name="checkBox2">
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" name="infoCheck"
                               id="formCheck3">
                        <label class="form-check-label" for="formCheck3">
                            주차공간을 제공합니다
                        </label>
                        <input type="hidden" value="" id="checkBox3" name="checkBox3">
                    </div>
                </div>

                <div>
                    <input type="submit" class="btn btn-secondary" style="width: 50%;">
                </div>
            </div>
        </form>
    </div>

    <div class="tab-wrapper">
        <ul class="tabs nav">
            <li class="nav-item tab-link current" data-tab="tab-1">탭1</li>
            <li class="nav-item tab-link" data-tab="tab-2">탭2</li>
            <li class="nav-item tab-link" data-tab="tab-3">탭3</li>
        </ul>
    </div>

</div>


<script src="//dapi.kakao.com/v2/maps/sdk.js?appkey=84d555c388d3da38338a57c648112954&libraries=services"></script>
<script th:src="@{/js/registerclass.js}"></script>

<script src="">
    $(document).ready(function() {
        //여기 아래 부분
        $('#summernote').summernote({
              height: 300,                 // 에디터 높이
              minHeight: null,             // 최소 높이
              maxHeight: null,             // 최대 높이
              focus: true,                  // 에디터 로딩후 포커스를 맞출지 여부
              lang: "ko-KR",					// 한글 설정
              placeholder: '최대 2048자까지 쓸 수 있습니다'	//placeholder 설정
        });
    });


</script>

</body>
</html>